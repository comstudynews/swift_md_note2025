# 9장: 앱스토어 배포 실습

## 목차

1. 자신의 아이폰에 앱 설치
2. 애플 개발자 계정 생성 및 관리
3. App Store Connect 소개
4. TestFlight를 통한 앱 테스트
5. 앱스토어 제출 및 승인 절차
6. 실습: 간단한 앱을 App Store에 배포

---

## **학습 목표:**

iOS 앱을 TestFlight와 App Store를 통해 배포하는 과정을 학습하고, 실제 앱을 배포하며 실무 경험을 쌓습니다.

---

# **1. 자신의 아이폰에 앱 설치**

### **1.1 개발자 모드 활성화**

### **개발자 모드 활성화 과정**

1. **iOS 16 이상 기기에서 개발자 모드 활성화:**
    - iPhone 설정 > 개인정보 보호 및 보안 > 개발자 모드.
    - 개발자 모드 활성화 후 재부팅 필요.
    - 활성화되지 않을 경우 Apple Developer 계정 확인.
2. **iPhone을 디버깅 장치로 연결:**
    - Xcode 실행 후 USB를 통해 iPhone 연결.
    - 연결된 기기가 "신뢰할 수 있는 장치"로 인식되도록 설정.
    - Xcode에서 `Window > Devices and Simulators`로 이동해 iPhone 확인.

### **핵심 학습 포인트**

- 개발자 모드 활성화의 중요성:
    - 실제 기기에서 앱 테스트 및 성능 최적화를 가능하게 함.
- 기기 연결 및 디버깅 준비 완료.

---

### **1.2 앱 실행 및 테스트**

### **앱 설치 및 실행**

1. **Xcode에서 앱 설치:**
    - SwiftUI 프로젝트 열기.
    - 상단 툴바에서 연결된 iPhone을 선택.
    - `Run` 버튼 클릭 후 앱이 iPhone에 설치되는 과정을 관찰.
2. **기기에서 앱 실행:**
    - 설치된 앱을 iPhone 홈 화면에서 실행.
    - 앱의 UI 및 주요 기능 동작 여부 확인.

### **시뮬레이터와 실제 기기의 차이점**

- **시뮬레이터:** 다양한 화면 크기와 환경 테스트에 유리.
- **실제 기기:** 하드웨어 성능 및 사용자 경험을 실제 환경에서 확인 가능.

### **디버깅**

- Xcode의 디버깅 콘솔을 사용해 로그 출력.
- 앱 실행 중 발생하는 오류를 실시간으로 분석.

---

### **실습**

1. **SwiftUI 앱 생성 및 설치:**
    - 간단한 "Hello, World!" SwiftUI 앱 생성.
    - Xcode를 통해 앱을 자신의 iPhone에 설치.
2. **앱 테스트:**
    - 앱의 버튼 클릭, 텍스트 입력 등 기본 동작 확인.
    - 의도한 대로 동작하지 않을 경우, Xcode 디버깅 콘솔 활용.
3. **학습 결과 기록:**
    - 설치 및 실행 과정에서 발생한 문제와 해결 방법 기록.
    - 실제 기기와 시뮬레이터에서의 차이점 비교.

---

### **최종 결과**

- 자신의 iPhone에서 앱이 정상적으로 실행되며, Xcode와 기기 간 연결을 원활히 수행.
- 학습자는 실제 기기에서 앱 테스트의 중요성과 디버깅 기술을 익힘.

---

# **2. 애플 개발자 계정 생성 및 관리**

---

### **2.1 Apple Developer Program 가입**

### **Apple Developer Program의 필요성**

1. **앱 배포**:
    - App Store에 앱을 게시하거나 TestFlight를 통해 테스트용 앱을 공유하기 위해 필수.
2. **고급 개발 기능 활용**:
    - 푸시 알림, 인앱 결제, 클라우드 키체인, CoreML 등의 기능을 활성화.
3. **연간 구독 비용**:
    - 개인 계정: $99 USD/년.
    - 팀 계정: 동일한 비용이지만 팀 협업 및 권한 관리 가능.

### **가입 방법**

1. **Apple Developer 웹사이트 방문**:
    - [Apple Developer Program](https://developer.apple.com/programs/)에서 계정 생성.
2. **Apple ID 로그인**:
    - 기존 Apple ID 사용 또는 새 계정 생성.
3. **가입 정보 입력**:
    - 이름, 이메일, 결제 정보 입력.
4. **약관 동의 및 결제 완료**:
    - 연간 구독 비용 결제 후 계정 활성화.

---

### **2.2 개발자 계정 설정**

### **계정 관리 설정**

1. **Apple Developer 사이트에서 설정 확인**:
    - 로그인 후 `Certificates, Identifiers & Profiles`로 이동.
2. **팀 ID 관리**:
    - 팀 계정인 경우, 팀 관리 메뉴에서 멤버를 추가하고 권한 부여.

### **인증서(Certificate) 및 프로비저닝 프로파일 설정**

1. **인증서 생성**:
    - Xcode에서 개발용 인증서를 생성하고 설치.
    - `Keychain Access`에서 CSR(Certificate Signing Request) 파일 생성 후 Apple Developer 사이트에 업로드.
2. **프로비저닝 프로파일**:
    - 특정 앱 ID와 기기 연결을 정의.
    - 앱 실행 시 디지털 서명을 제공하여 인증된 기기에서 실행 가능하도록 설정.

### **앱 서명 및 배포**

- Xcode에서 계정 연결 후, 인증서를 기반으로 앱 서명 자동 처리.
- App Store 배포 및 TestFlight 배포를 위한 프로비저닝 자동 관리.

---

### **실습**

1. **개발자 계정 생성**:
    - Apple Developer Program에 가입하고 개인 또는 팀 계정 생성.
2. **Xcode와 계정 연결**:
    - Xcode의 `Preferences > Accounts`에서 Apple ID 추가.
    - Xcode와 Apple Developer 계정을 동기화.
3. **테스트용 인증서 생성**:
    - 개발자 사이트에서 인증서를 생성하고 Xcode 프로젝트에 적용.
4. **프로비저닝 프로파일 설정**:
    - 특정 테스트 기기를 등록하고, 프로비저닝 프로파일을 생성하여 프로젝트에 연결.

---

### **최종 결과**

- Apple Developer 계정을 생성하고 Xcode와 연결 완료.
- 인증서 및 프로비저닝 설정을 통해 앱 실행 준비 완료.
- 학습자는 실제 앱 배포 환경 설정과 기본 관리 기술을 익힘.

---

# **3. App Store Connect 소개**

---

### **3.1 App Store Connect란?**

### **역할과 기능**

1. **앱 제출 및 관리**:
    - App Store에 앱을 제출하기 위한 필수 플랫폼.
    - 빌드 업로드 및 앱 리뷰 상태 확인 가능.
2. **앱 정보 관리**:
    - 앱 이름, 설명, 카테고리, 키워드, 스크린샷 등을 설정.
3. **사용자 통계 및 분석 제공**:
    - 다운로드 수, 사용자 리뷰, 성과 분석 가능.
4. **팀 협업 지원**:
    - 계정 소유자, 관리자, 개발자 등 역할별 접근 권한 관리.

### **주요 기능 소개**

- **빌드 관리**: Xcode에서 업로드한 앱 빌드를 관리하고 App Store 제출 준비.
- **앱 리뷰 상태 확인**: 앱이 리뷰 대기, 승인, 거절 상태인지 실시간 확인 가능.
- **테스트플라이트(TestFlight)**: 앱을 출시 전 테스터들에게 배포하고 피드백을 수집.

---

### **3.2 앱 정보 입력**

### **필수 정보 입력**

1. **앱 이름**:
    - App Store에 표시될 이름.
    - 30자 이내로 작성 권장.
2. **앱 설명**:
    - 앱의 주요 기능과 혜택 설명.
    - 검색 최적화를 위해 주요 키워드 포함.
3. **키워드 설정**:
    - 최대 100자까지 설정 가능.
    - 검색 최적화를 위해 관련 키워드 포함.
4. **스크린샷 추가**:
    - 필수 해상도에 맞는 스크린샷 업로드.
    - 각 기기별 (iPhone, iPad, Mac 등) 스크린샷 제공.

### **로컬라이제이션(Localization) 설정**

1. **다국어 지원**:
    - 각 언어별 앱 이름, 설명, 스크린샷을 추가하여 다양한 국가와 언어 지원.
2. **지역별 키워드 차별화**:
    - 국가별 검색 트렌드에 맞는 키워드 설정.

---

### **실습**

1. **App Store Connect 계정 접속**:
    - [App Store Connect](https://appstoreconnect.apple.com/) 로그인.
2. **새 앱 프로젝트 등록**:
    - 새 앱 추가 버튼 클릭 후 플랫폼(iOS)을 선택.
    - 앱 이름, 기본 언어, 번들 ID, SKU 입력.
3. **앱 정보 입력**:
    - 샘플 이름, 설명, 스크린샷을 작성 및 업로드.
4. **빌드 연결 준비**:
    - Xcode에서 업로드된 빌드와 연결 준비.

---

### **최종 결과**

- App Store Connect에 새 앱 프로젝트가 등록되고, 필요한 정보가 입력됨.
- 학습자는 실제 앱 제출 과정을 이해하고 실습을 통해 경험을 쌓음.

---

# **4. TestFlight를 통한 앱 테스트**

### **4.1 TestFlight 소개**

### **역할과 기능**

1. **앱 테스트 플랫폼**:
    - Apple이 제공하는 공식 앱 테스트 도구.
    - 앱 출시 전에 내부 및 외부 테스터에게 배포하여 피드백을 수집.
2. **테스터 관리**:
    - 내부 테스터(개발자 계정 소속)와 외부 테스터(일반 사용자)를 구분.
    - 최대 10,000명의 외부 테스터 초대 가능.
3. **피드백 수집**:
    - 테스터들이 앱 사용 후 제출한 피드백과 충돌 보고서를 TestFlight에서 직접 확인.

### **내부 테스터와 외부 테스터의 차이점**

| 구분 | 내부 테스터 | 외부 테스터 |
| --- | --- | --- |
| **대상** | 개발자 계정 소속 사용자 | 일반 사용자 |
| **제한 인원** | 최대 100명 | 최대 10,000명 |
| **사용 목적** | 초기 앱 테스트와 디버깅 | 일반 사용자 경험 피드백 |

---

### **4.2 앱 빌드 업로드**

### **Xcode를 사용한 빌드 업로드**

1. **빌드 준비**:
    - Xcode에서 앱의 Scheme 설정 및 빌드 생성.
    - 앱 서명 및 Provisioning Profile 확인.
2. **App Store Connect 업로드**:
    - Xcode 메뉴에서 `Product > Archive` 선택 후 앱 아카이브 생성.
    - 아카이브가 완료되면 `Distribute App` 선택 후 TestFlight 업로드.
3. **TestFlight에서 빌드 승인**:
    - App Store Connect에 로그인 후 TestFlight 탭에서 새 빌드 확인.
    - 빌드를 선택하고 테스트 그룹에 할당.

### **빌드 상태 이해**

- **Processing**: 빌드가 처리 중.
- **Approved**: 빌드가 승인되어 테스터가 사용할 수 있음.

---

### **4.3 테스터 관리**

### **테스터 초대 및 관리**

1. **내부 테스터 초대**:
    - TestFlight에서 개발자 계정 소속 사용자를 추가.
2. **외부 테스터 초대**:
    - 이메일 초대를 통해 외부 테스터 등록.
    - 초대받은 사용자는 TestFlight 앱을 설치하고 초대를 수락.

### **피드백 수집**

1. **테스터 피드백 제공**:
    - 테스터는 TestFlight 앱 내에서 피드백을 작성하여 제출.
    - 충돌 보고서가 자동으로 수집되어 개발자에게 전달.
2. **피드백 분석**:
    - App Store Connect에서 테스터 피드백과 오류 로그 확인.

---

### **실습**

1. **TestFlight 빌드 업로드**:
    - Xcode를 사용해 간단한 SwiftUI 앱 빌드를 생성 및 업로드.
2. **테스터 초대**:
    - 내부 테스터 및 친구 이메일로 외부 테스터 초대.
3. **테스트 및 피드백 수집**:
    - 테스터가 앱을 설치하고 사용 후 피드백을 제출하도록 요청.

---

### **최종 결과**

- TestFlight를 사용해 앱 빌드를 성공적으로 배포.
- 테스터 초대 및 피드백 수집 과정을 통해 앱의 문제점과 개선점을 발견.

---

# **5. 앱스토어 제출 및 승인 절차**

### **5.1 앱 제출 과정**

### **Xcode를 사용한 앱 빌드 전송**

1. **앱 준비**:
    - App Store Connect에 앱 정보(이름, 설명, 키워드, 카테고리) 입력.
    - 아이콘과 스크린샷 등 필수 자산 준비.
2. **빌드 생성 및 전송**:
    - Xcode에서 `Product > Archive`로 앱 빌드 아카이브 생성.
    - 완료된 아카이브에서 `Distribute App`을 선택해 App Store Connect로 전송.
3. **버전 정보 업데이트**:
    - App Store Connect에서 빌드 연결 및 출시 노트 작성.

### **리뷰 제출 전 체크리스트**

- 앱 아이콘: 권장 크기와 형식(1024x1024 PNG).
- 스크린샷: 모든 지원 기기 해상도에 맞는 스크린샷 준비.
- 메타데이터: 앱 이름, 설명, 키워드, 카테고리 확인 및 입력.

---

### **5.2 Apple의 리뷰 프로세스 이해**

### **리뷰 기준**

- Apple의 **App Store Review Guidelines**에 따른 준수사항:
    - 앱의 기능성, 성능, 디자인, 콘텐츠, 법적 요구사항 확인.
    - 사용자 데이터 수집 시 개인정보 보호정책 명시.

### **거부 사유 사례**

1. **기술적 문제**:
    - 앱이 정상적으로 실행되지 않거나 충돌 발생.
2. **콘텐츠 문제**:
    - 부적절한 콘텐츠나 라이선스 위반.
3. **디자인 문제**:
    - Apple Human Interface Guidelines 미준수.

### **리뷰 상태 확인 및 대응**

- **Review Status**에서 진행 상황 확인.
- 리젝된 경우 원인 분석 후 수정하여 재제출.

---

### **5.3 최종 승인과 출시**

### **승인 후 App Store에 앱 출시**

1. **출시 옵션 설정**:
    - **Manual Release**: 승인 후 수동으로 출시.
    - **Automatic Release**: 승인 즉시 자동 출시.
2. **출시 지역과 언어 설정**:
    - 앱이 배포될 국가/지역과 지원 언어 선택.

### **앱 업데이트와 유지보수**

- 사용자 피드백에 따라 기능 추가 및 버그 수정.
- 업데이트 빌드 제출 시 이전과 동일한 리뷰 프로세스 진행.

---

### **실습**

1. **SwiftUI 앱 제출**:
    - Xcode에서 간단한 앱을 App Store Connect로 전송.
2. **리뷰 과정 경험**:
    - 리뷰 상태를 확인하고, 발생 시 수정 및 재제출.
3. **출시**:
    - 앱을 승인받아 App Store에 공개.
4. **업데이트 프로세스 시뮬레이션**:
    - 간단한 앱 수정 후 새로운 버전으로 업데이트 빌드 전송.

---

### **최종 결과**

- App Store Connect를 통해 앱을 성공적으로 제출하고, 리뷰 과정을 거쳐 출시.
- 실습을 통해 Apple의 앱 배포 및 승인 절차를 체계적으로 이해.

---

# **8장 요약**

- 애플 개발자 계정 생성부터 TestFlight를 활용한 내부/외부 테스트, 그리고 App Store에 앱을 제출하는 과정을 학습합니다.
- 앱 배포와 관련된 실질적인 도구와 프로세스를 다루며, 학습자는 자신의 앱을 실제로 배포할 수 있는 경험을 쌓게 됩니다.
- 실습을 통해 배운 내용을 바탕으로 배포 과정의 전체 흐름을 이해하고 실행합니다.

---

# 단원평가

### **1: Apple Developer Program**

Apple Developer Program에 가입해야 하는 주요 이유는 무엇인가요?

**① 무료 앱을 개발할 수 있도록 Apple이 제공하는 서비스이다.**

**② iOS 앱을 Mac App Store에만 배포하기 위한 서비스이다.**

**③ 앱스토어에 앱을 배포하고, TestFlight를 통해 베타 테스트를 할 수 있다.**

**④ SwiftUI 프로젝트를 자동으로 생성해 주는 도구를 제공한다.**

---

### **2: Xcode의 배포 설정**

앱스토어에 배포할 iOS 앱을 Xcode에서 준비할 때 필요한 단계가 아닌 것은 무엇인가요?

**① 앱의 Bundle Identifier 설정**

**② Apple Developer 계정 추가**

**③ 앱스토어에서 앱 리뷰를 다운로드**

**④ 배포용 프로비저닝 프로필 생성**

---

### **3: TestFlight의 역할**

**TestFlight**의 주요 역할은 무엇인가요?

**① 앱스토어에서 다운로드한 앱을 자동으로 업데이트해 준다.**

**② iOS 앱을 개발하는 동안 Swift 코드를 실시간으로 테스트할 수 있다.**

**③ 앱스토어에 앱을 출시하기 전에 베타 테스트를 진행할 수 있다.**

**④ Xcode에서 앱을 컴파일하는 시간을 줄여 준다.**

---

### **4: App Store Connect의 기능**

**App Store Connect**에서 할 수 있는 작업으로 올바른 것을 고르세요.

**① 앱스토어에 앱을 다운로드**

**② 앱의 심사 상태를 확인하고, 메타데이터를 관리**

**③ iOS 기기에서 앱을 테스트하기 위한 시뮬레이터 실행**

**④ 앱스토어 정책 변경 시 자동 알림을 받기 위한 설정**

---

### **5: 앱 심사 통과 조건**

앱스토어에서 앱 심사를 통과하기 위한 주요 조건 중 하나는 무엇인가요?

**① 앱의 크기가 500MB를 초과해야 한다.**

**② 앱이 반드시 유료로 제공되어야 한다.**

**③ 앱이 Apple의 앱 심사 가이드라인을 준수해야 한다.**

**④ 앱에 네트워크 연결 기능이 없어야 한다.**

---

### **6: iOS 앱의 Bundle Identifier**

**Bundle Identifier**에 대한 설명으로 올바른 것은 무엇인가요?

**① 앱스토어에서 사용자가 앱을 검색할 때 사용하는 앱 이름이다.**

**② iOS 앱의 고유 식별자로, 각 앱마다 고유한 값을 가져야 한다.**

**③ 앱이 실행되는 동안 메모리 사용을 최적화하는 도구이다.**

**④ 앱스토어에 앱을 무료로 배포할 수 있도록 하는 설정 값이다.**

---

### **7: 앱스토어에 앱을 배포하기 위한 필수 조건**

다음 중 **앱스토어에 앱을 배포하기 위한 필수 조건**이 아닌 것은 무엇인가요?

**① Apple Developer Program에 가입해야 한다.**

**② Xcode에서 앱을 배포할 수 있는 프로비저닝 프로필이 필요하다.**

**③ iOS 기기에서 앱 테스트를 완료해야 한다.**

**④ App Store Connect에서 심사 요청을 제출해야 한다.**

---

### **8: 앱스토어 정책 위반 사례**

다음 중 **앱스토어 정책을 위반하는 사례**로 올바른 것은 무엇인가요?

**① 앱의 개인정보 보호정책을 제공하지 않은 경우**

**② 앱에 사용자 피드백 기능을 추가한 경우**

**③ 앱에 다크 모드 지원 기능을 포함한 경우**

**④ 앱의 아이콘을 Apple의 시스템 아이콘과 유사하게 디자인한 경우**

---

### **9: 앱 업데이트 관리**

**앱스토어에 배포된 앱을 업데이트**할 때 필요한 과정으로 올바른 것을 고르세요.

**① 새로운 앱을 개발하여 별도의 Bundle Identifier로 제출해야 한다.**

**② Xcode에서 기존 프로젝트를 삭제하고 새로운 프로젝트로 다시 제출해야 한다.**

**③ App Store Connect에서 새 버전을 생성하고, 변경 사항을 제출해야 한다.**

**④ 앱스토어 정책에 따라 앱의 기존 사용자 리뷰를 삭제해야 한다.**

---

### **10: App Store Connect에서 앱 메타데이터 관리**

**App Store Connect**에서 관리할 수 있는 앱 메타데이터에 해당하지 않는 것은 무엇인가요?

**① 앱 이름 및 설명**

**② 스크린샷 및 아이콘 이미지**

**③ 사용자 피드백 응답**

**④ 앱의 키워드 및 카테고리**